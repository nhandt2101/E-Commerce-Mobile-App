{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { Center, Box, Heading, VStack, FormControl, Input, Button, HStack, Link, Text } from 'native-base';\nimport { createTableUser, getUser, dropTableUser } from \"../../db/user\";\nimport { storeData } from \"../../component/store\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LoginScreen(_ref) {\n  var _ref2;\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  useEffect(function () {\n    var _initializeDatabase;\n    function initializeDatabase() {\n      return (_initializeDatabase = _initializeDatabase || _asyncToGenerator(function* () {\n        yield createTableUser();\n      })).apply(this, arguments);\n    }\n    initializeDatabase();\n  }, []);\n  var handleLogin = function handleLogin() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      try {\n        var user = yield getUser(email, password);\n        storeData('@user', user);\n        if (user.isSale === 1) {\n          navigation.navigate('HomeSalesman');\n        } else {\n          navigation.navigate('Home');\n        }\n      } catch (error) {\n        alert('Sai tên đăng nhập hoặc mật khẩu.');\n      }\n    })).apply(this, arguments);\n  };\n  return _jsx(Center, {\n    flex: 1,\n    children: _jsxs(Box, {\n      safeArea: true,\n      p: 2,\n      w: \"100%\",\n      h: \"100%\",\n      bg: \"white\",\n      rounded: \"lg\",\n      justifyContent: \"center\",\n      children: [_jsx(Heading, {\n        size: \"lg\",\n        color: \"coolGray.800\",\n        _dark: {\n          color: 'warmGray.50'\n        },\n        fontWeight: \"semibold\",\n        textAlign: \"center\",\n        children: \"Welcome\"\n      }), _jsxs(VStack, {\n        space: 3,\n        mt: \"5\",\n        children: [_jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Email ID\"\n          }), _jsx(Input, {\n            value: email,\n            onChangeText: function onChangeText(text) {\n              return setEmail(text);\n            },\n            placeholder: \"Email\"\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Password\"\n          }), _jsx(Input, {\n            value: password,\n            onChangeText: function onChangeText(text) {\n              return setPassword(text);\n            },\n            placeholder: \"Password\",\n            type: \"password\"\n          }), _jsx(Link, {\n            _text: {\n              fontSize: \"xs\",\n              fontWeight: \"500\",\n              color: \"indigo.500\"\n            },\n            alignSelf: \"flex-end\",\n            mt: \"1\",\n            children: \"Forget Password?\"\n          })]\n        }), _jsx(Button, {\n          mt: \"2\",\n          colorScheme: \"indigo\",\n          onPress: handleLogin,\n          children: \"Sign in\"\n        }), _jsxs(HStack, {\n          mt: \"6\",\n          justifyContent: \"center\",\n          children: [_jsxs(Text, {\n            fontSize: \"sm\",\n            color: \"coolGray.600\",\n            _dark: {\n              color: \"warmGray.200\"\n            },\n            children: [\"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\", \" \"]\n          }), _jsx(Link, {\n            _text: {\n              color: \"indigo.500\",\n              fontWeight: \"medium\",\n              fontSize: \"sm\"\n            },\n            onPress: function onPress() {\n              return navigation.navigate('Register');\n            },\n            children: \"Sign Up\"\n          })]\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","Center","Box","Heading","VStack","FormControl","Input","Button","HStack","Link","Text","createTableUser","getUser","dropTableUser","storeData","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","_ref2","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_initializeDatabase","initializeDatabase","_asyncToGenerator","apply","arguments","handleLogin","user","isSale","navigate","error","alert","flex","children","safeArea","p","w","h","bg","rounded","justifyContent","size","color","_dark","fontWeight","textAlign","space","mt","Label","value","onChangeText","text","placeholder","type","_text","fontSize","alignSelf","colorScheme","onPress"],"sources":["D:/UET - Đặng Trí Nhân - 21020371/Năm 3/Kì 1/Mobile/mobile/E-Commerce-Mobile-App/src/screen/Login/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Center, Box, Heading, VStack, FormControl, Input, Button, HStack, Link, Text } from 'native-base';\r\n\r\nimport { createTableUser, getUser, dropTableUser } from '../../db/user';\r\nimport { storeData } from '../../component/store';\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function initializeDatabase() {\r\n      await createTableUser();\r\n    }\r\n    initializeDatabase();\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const user = await getUser(email, password);\r\n      storeData('@user', user);\r\n\r\n      if (user.isSale === 1) {\r\n        navigation.navigate('HomeSalesman');\r\n      } else {\r\n        navigation.navigate('Home');\r\n      }\r\n    } catch (error) {\r\n      alert('Sai tên đăng nhập hoặc mật khẩu.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Center flex={1}>\r\n      <Box safeArea p={2} w=\"100%\" h=\"100%\" bg=\"white\" rounded=\"lg\" justifyContent=\"center\">\r\n        <Heading size=\"lg\" color=\"coolGray.800\" _dark={{ color: 'warmGray.50' }} fontWeight=\"semibold\" textAlign=\"center\">\r\n          Welcome\r\n        </Heading>\r\n\r\n        <VStack space={3} mt=\"5\">\r\n          <FormControl>\r\n            <FormControl.Label>Email ID</FormControl.Label>\r\n            <Input\r\n              value={email}\r\n              onChangeText={(text) => setEmail(text)}\r\n              placeholder=\"Email\"\r\n            />\r\n          </FormControl>\r\n          <FormControl>\r\n            <FormControl.Label>Password</FormControl.Label>\r\n            <Input\r\n              value={password}\r\n              onChangeText={(text) => setPassword(text)}\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n            />\r\n            <Link _text={{ fontSize: \"xs\", fontWeight: \"500\", color: \"indigo.500\" }} alignSelf=\"flex-end\" mt=\"1\">\r\n              Forget Password?\r\n            </Link>\r\n          </FormControl>\r\n          <Button mt=\"2\" colorScheme=\"indigo\" onPress={handleLogin}>\r\n            Sign in\r\n          </Button>\r\n\r\n          <HStack mt=\"6\" justifyContent=\"center\">\r\n            <Text fontSize=\"sm\" color=\"coolGray.600\" _dark={{ color: \"warmGray.200\" }}>\r\n              Bạn chưa có tài khoản?{\" \"}\r\n            </Text>\r\n            <Link _text={{ color: \"indigo.500\", fontWeight: \"medium\", fontSize: \"sm\" }} onPress={() => navigation.navigate('Register')}>\r\n              Sign Up\r\n            </Link>\r\n          </HStack>\r\n        </VStack>\r\n      </Box>\r\n    </Center>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}